jQuery.fn.CapsLockAlert=function(a){document.msCapsLockWarningOff=true;a=jQuery.extend({animation:true,container:false,content:"WARNING: CAPS Lock is on",delay:0,html:false,placement:"top",selector:false,template:'<div class="popover popover-caps" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',title:"",trigger:"manual"},a);var b=$("style[type='text/css']").text();if(!b||(b.indexOf(".popover-caps")===-1)){$("<style type='text/css'> .popover-caps { background: tomato; color: white; }.popover-caps.top .arrow:after { border-top-color:tomato; } </style>").appendTo("head")}return this.each(function(){jQuery(this).keypress(function(d){jQuery(this).popover(a);var c=false;if(d.shiftKey){c=d.shiftKey}else{if(d.modifiers){c=!!(d.modifiers&4)}}if(((d.which>=65&&d.which<=90)&&!c)||((d.which>=97&&d.which<=122)&&c)){if(jQuery(this).next("div.popover-caps:visible").length===0){jQuery(this).popover("show")}}else{jQuery(this).popover("hide")}});jQuery(this).keyup(function(c){if(jQuery(this).val()===""){jQuery(this).popover("hide")}});jQuery(this).focusout(function(){jQuery(this).popover("hide")})})};