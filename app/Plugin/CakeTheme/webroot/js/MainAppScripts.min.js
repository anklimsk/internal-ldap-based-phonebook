(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b()}else{a.MainAppScripts=b()}}})(this,function(){var U={};var c="#content";var h="#container";var b="/cake_theme/events/ssecfg.json";var s="/cake_theme/events/tasks.json";var D="/cake_theme/events/queue";var n=null;var Q=null;var K=0;var r=5000;var x={obj:{},retries:{},noty:{},config:{},progress:{}};var L={timeout:5000,container:h};var R={parentIdStart:null,backupElement:null};function F(ac){var ab=0,Y,Z;var aa=ac.length;if(aa===0){return ab}for(Y=0;Y<aa;Y++){Z=ac.charCodeAt(Y);ab=((ab<<5)-ab)+Z;ab=(ab|0)}return ab}function C(){var Y=Math.floor(Math.random()*50)+Date.now();return Y}function v(Z){var Y="";if(Z){Y=Z+"_"}if(K===0){K=C()}Y+=K;K++;return Y}function T(){if(Q){return true}return false}function I(ac,Y,af,ai){var aa=ai.data("fade-background");var ad=false;if(ai.attr("fade-page")){ad=true}if(Y!=="success"){U.loadIndicatorOff(aa,ad);return}var ae=ai.parents(".main-app-scripts-modal");if(ae.length===1){var ag=ai.attr("action");var ab=$(ac).find('form[action="'+ag+'"]');var ah=ai.data("update-modal-content");if(ab.length>0){var Z=f(ac,ae);ae.find(".modal-body").html(Z);U.update();U.loadIndicatorOff(aa)}else{$(c).data("update-page-after-close",true);ae.data("update-modal-content",ah);ae.modal("hide");U.loadIndicatorOff(aa)}}else{$(c).html(ac);U.update();U.loadIndicatorOff(aa)}}function a(ab,Y,aa,Z){var ad=Z.data("fade-background");var ac=false;if(Z.attr("fade-page")){ac=true}U.loadIndicatorOff(ad,ac);if(ab.status===403){location.reload()}}function l(Y){if(!Y){return false}var Z=$(Y);if(!Z.attr("data-onclick")){return false}var ac=Z.attr("data-onclick");if(!ac){return false}var ab=/document\.(post_[0-9a-fA-F]+)\.submit\(\).+/.exec(ac)[1];if(!ab){return false}var ad=$("#"+ab);if(ad.length!==1){return false}if(jQuery.fn.ajaxSubmit){ad.attr("data-toggle","ajax-form");U.updateAjaxForm()}var aa=Z.data("update-modal-content");ad.data("update-modal-content",aa);return ad.submit()}function k(Z){if(typeof Z==="undefined"){Z=false}var Y=0.8;if(Z){Y=1}if($("div.mainappscripts-ds-overlay").length>0){return}$('<div class="mainappscripts-ds-overlay"></div>').appendTo("body").fadeTo("fast",Y)}function V(Z){if(typeof Z==="undefined"){Z=false}var Y="mainappscripts-ds-overlay";if(Z){Y+="-higher"}$("div."+Y).fadeTo("fast",0,function(){$("div."+Y).detach()})}function P(Z,Y,aa){if((!Z)||(Y<10000)||!aa){return}$.ajax({url:Z,async:false,dataType:"html",success:function(ad,af,ac){var ab=$(aa);if(ab.length===0){return}var ae=$(ad).find(aa).addBack(aa);if(ae.length!==1){return}ab.html(ae.html());U.update()}})}function B(Z,ac){var Y={};if(!Z){return Y}if(!ac){ac=F(Z)}var ab="inputCountrysList"+ac;if(T()&&Q.isSet(ab)){var aa=Q.get(ab);if(aa){return aa}}$.ajax({url:Z,async:false,method:"POST",dataType:"json",global:false,success:function(ad){if(!ad){return}Y=ad;if(T()){Q.set(ab,Y)}}});return Y}function m(){if(x.config.length>0){return}var aa="SSEobjCfg";var Y={text:"Waiting to run task",label:{task:"Task",completed:"completed"},retries:100,delayDeleteTask:5};if(T()&&Q.isSet(aa)){var Z=Q.get(aa);if(Z){x.config=Z;return}}$.ajax({async:false,url:b,dataType:"json",global:false,method:"POST",success:function(ab){if(ab){Y=$.extend({},Y,ab)}if(T()){Q.set(aa,Y)}}});x.config=Y}function d(aa){var Z=null;if(typeof Noty==="undefined"){return Z}if(!aa){aa="Waiting..."}var ab={text:aa,type:"information",timeout:false,force:true,closeWith:["click"],layout:"topRight",theme:"bootstrap-v3",animation:{open:"animated bounceInRight",close:"animated bounceOutRight"}};var Y=new Noty(ab);return Y}function X(ae){var ad=$.parseJSON(ae.data);var ab=ad.type;var Z=parseFloat(ad.progress);var af=ad.msg;var aa=1000;var ac=true;var Y="";if(isNaN(Z)){Z=0}if(typeof NProgress==="undefined"){ac=false}if(af&&(typeof af==="string")){af=af.replace(/\n/g,"<br />")}if(ad.result===false){--x.retries[ab];if(x.retries[ab]>0){if(x.noty[ab]){Y=x.config.text+' "<b>'+ab+'</b>" - [<i>'+x.retries[ab]+"</i>]";x.noty[ab].setText(Y,true);if((!x.noty[ab].showing&&!x.noty[ab].shown)||x.noty[ab].closed){x.noty[ab].show()}}}else{if(x.obj[ab]){x.obj[ab].stop()}if(x.noty[ab]){x.noty[ab].close()}}}else{if(ad.result===true){if(ac){if(NProgress.status!==null){NProgress.done();setTimeout(function(){NProgress.remove()},aa)}}if(x.noty[ab]){if(Z<1){x.noty[ab].setType("error",true)}else{if(af){x.noty[ab].setType("warning",true)}else{x.noty[ab].setType("success",true);x.noty[ab].setTimeout(30000)}}}if(x.obj[ab]){x.obj[ab].stop()}}else{if(ac){if(NProgress.status===null){NProgress.start()}if(x.progress[ab]){NProgress.set(Z)}else{NProgress.inc()}}}if(x.noty[ab]){Y=x.config.label.task+": <b>"+ab+"</b>; "+x.config.label.completed+": <i>"+parseInt((Z*100),10)+"%</i>.";if(af){Y+='<br /><div class="sse-message">'+x.config.label.message+": <small>"+af+".</small></div>"}x.noty[ab].setText(Y,true);if(!x.noty[ab].showing&&!x.noty[ab].shown){x.noty[ab].show()}}}}function z(ab){var aa=$(ab.target);var Z=aa.parents(".modal");if(Z.length===0){return}var Y=$('[role="tooltip"]');Y.detach();Y.appendTo(Z)}function y(ac){if(typeof $().tooltip!=="function"){return false}if(!ac){return false}var Z=$('div.tooltip.in[role="tooltip"]');if(Z.length>0){Z.removeClass("in")}var ab=$(ac);if(ab.length===0){return true}var aa=null;var Y=null;ab.each(function(ad,ae){aa=$(ae);if(aa.data("bs.tooltip")){return true}Y=aa.attr("data-original-title");if(Y){aa.attr("title",Y);aa.removeAttr("data-original-title")}aa.tooltip({trigger:"hover",container:c,placement:"auto",html:true}).off("inserted.bs.tooltip").on("inserted.bs.tooltip",z)});return true}function G(Z){var Y={};if(!Z){return Y}$.ajax({url:Z,async:false,method:"POST",dataType:"json",global:false,success:function(aa){if(!aa){return}Y=aa}});return Y}function M(aj){var ak=$(this);var ag=ak.parents('form[progressfill!=""][progressfill]').find('[role="progressbar"].inputs-filled-progress');var af="";if(!ag){return}var ac=ak.val();var ad=ag.data("total-inputs");var ae=ag.data("total-required-inputs");var al=ag.data("filled-inputs");var Y=ag.data("filled-required-inputs");if(!al){al=[]}if(!Y){Y=[]}var aa=ak.attr("id");if(!aa){return}var am=ak.attr("required");var Z=$.inArray(aa,al);var ai=$.inArray(aa,Y);if(!ac||(ac.length===0)){if(Z!==-1){al.splice(Z,1)}if(am&&(ai!==-1)){Y.splice(ai,1)}}else{if(Z===-1){al.push(aa)}if(am&&(ai===-1)){Y.push(aa)}}ag.data("filled-inputs",al);ag.data("filled-required-inputs",Y);var ab=al.length;var ah=Y.length;var an=0;if(ad>0){an=Math.round(ab/ad*100)}ag.css({width:an+"%"});ag.text(ab+" / "+ad);if(ae>0){if(ah<ae){af="progress-bar-danger"}else{if((ad-ae)>0){if(ab<ad){af="progress-bar-warning"}else{af="progress-bar-success"}}else{af="progress-bar-success"}}}else{if(ab<ad){af="progress-bar-warning"}else{af="progress-bar-success"}}af="progress-bar "+af+" inputs-filled-progress";ag.attr("class",af)}function H(ae){var Z=null;var aa=null;var ai=null;var af=null;var ab=$(this);var ah=ab.parents(".form-group");var ac="RequiredInputEmptyMsg";var ag="Required input is empty";var ad=ab.parents('form[requiredcheck!=""][requiredcheck]').data("required-msg");if(ad){ag=ad}if(ah.length===0){return}var Y=ab.parents(".tab-pane:eq(0)");if(Y.length===1){Z=Y.attr("id");if(Z){aa=ab.parents(".tabbable").find('ul.nav li a[href="#'+Z+'"]')}}if(ab.val()){ah.find("span#"+ac).remove();if(ah.find(".help-block").length===0){ah.removeClass("has-error")}if(aa&&(Y.find(".has-error").length===0)){ai=aa.find(".required-input-tab-icon");if(ai.length>0){af=ai.parent();af.children(".required-input-tab-icon").remove()}}}else{ah.addClass("has-error");if(ah.find("span#"+ac).length===0){ah.append('<span id="'+ac+'" class="help-block">'+ag+"</span>")}if(aa&&(aa.find(".required-input-tab-icon").length===0)){aa.append('<span class="required-input-tab-icon">&nbsp;<span class="fas fa-exclamation-triangle fa-lg"></span></span>')}}}function E(ad){var ab=$(this).parents('form[requiredcheck!=""][requiredcheck]').find(':input[name^="data["][required]');if(ab.length===0){return true}var ac=ab.filter(function(){return !this.value});if(ac.length===0){return true}ac.trigger("change.MainAppScripts.RequirInput");var Y=ac.eq(0);var Z=Y.closest(".tab-pane");if(Z.length===1){var aa=Z.attr("id");if(aa){Y.parents(".tabbable").find('ul.nav li a[href="#'+aa+'"]').tab("show")}}return false}function N(aa){if(!aa.result){return}var Y=this.parents("li:eq(0)");if(Y.length===0){Y=this.parents("tr:eq(0)");if(Y.length===0){return}}var ad=aa.direct;var ab=Y.index();var Z=null;var ac=0;if(typeof(aa.delta)!=="boolean"){ac=parseInt(aa.delta,10);if(isNaN(ac)){ac=0}}switch(ad){case"top":Z=0;case"up":if(Z===null){Z=ab-ac}if(Y.is(":first-child")){return}if(typeof $().tooltip==="function"){this.tooltip("hide")}Y.insertBefore(Y.siblings(":eq("+Z+")"));break;case"bottom":Z=-1;case"down":if(Z===null){Z=ab+ac-1}if(Y.is(":last-child")){return}if(typeof $().tooltip==="function"){this.tooltip("hide")}Y.insertAfter(Y.siblings(":eq("+Z+")"));break;default:return}return}function e(ad){var ae=this.fadeBackground;if(!ad){U.loadIndicatorOff(ae);return}if(typeof $().tooltip==="function"){this.target.tooltip("hide")}var ac=this.target.data("target-selector");var ab="";var aa=c;var Y=null;var Z=null;if(ac){ab=ac+" > *";aa+=" "+ac;Y=$(ab,ad);Z=$(".confirm-form-block > *",ad)}else{Y=$(ad)}if(Y.length>0){Y.hide().appendTo($(aa)).fadeIn("slow")}if(Z.length>0){Z.appendTo($(".confirm-form-block"))}if($(c+" .load-more").length>0){$(c+" .load-more").replaceWith($(".load-more",ad))}else{$(c+' a[data-toggle="load-more"]').replaceWith($('a[data-toggle="load-more"]',ad))}U.update();U.loadIndicatorOff(ae);return}function q(af,aa,ai){ai(af,aa);var ab=aa.group.options.itemSelector;var ag=aa.rootGroup.options.group;var ae="."+ag;var Z=af.parents('[data-toggle="draggable"]').data("url");var ah=af.data("id");var ad=aa.el;var Y=ad.sortable("serialize").get();var ac=ad.parent(ab).data("id");if(typeof ac==="undefined"){ac=null}var aj={target:ah,parent:ac,parentStart:R.parentIdStart,tree:JSON.stringify(Y)};var ak=false;if(Z){$.ajax({async:false,url:Z,data:aj,dataType:"json",method:"POST",success:function(al){ak=al.result}})}if(!ak){$(ae).replaceWith(R.backupElement);U.update()}}function w(aa,Y,ab){var Z=Y.group.options.itemSelector;var ac=Y.rootGroup.options.group;R.parentIdStart=aa.parents(Z).data("id");R.backupElement=$("."+ac).clone(false);ab(aa,Y)}function t(ad,aa,af){if((typeof ad!=="object")||(ad.length===0)||!aa){return false}var Y=ad.data("url");if(!Y){return false}Y=Y.replace(/&amp;/g,"&");var ag=parseInt(ad.val(),10);if(isNaN(ag)){ag=af}var ac=parseInt(ad.data("curr-value"),10);if(isNaN(ac)){ac=af}if(ag===ac){return false}var ae=aa+":\\d+";var ab=new RegExp(ae);if(Y.search(ab)===-1){return false}ae="("+aa+":)\\d+";ab=new RegExp(ae,"g");var Z=Y.replace(ab,"$1"+ag);U.updatePage(Z);return true}function W(Z){var Y=$(this);t(Y,"limit",20);return false}function i(Z){Z.preventDefault();var Y=$(this).siblings(":text");t(Y,"page",1);return true}function p(){var Z="";var ac=$(this);var ab=$(ac).attr("href");var aa=$(ac).data("popover-url");var Y=$(ac).data("cached");var ad=false;if(Y){return Y}if(!ab){if(!aa){return Z}ab=aa}if(!ab.match(/\.pop$/)){ab+=".pop"}$.ajax({url:ab,dataType:"html",async:false,success:function(ae){$(ac).data("cached",ae);Z=ae}});return Z}function o(){var Y=v("MainAppScriptsModal");$(c).append('<div class="main-app-scripts-modal modal fade" id="'+Y+'" tabindex="-1" role="dialog" aria-labelledby="ModalFormLabel">                    <div class="modal-dialog" role="document">                        <div class="modal-content">                            <div class="modal-header">                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title text-center">&nbsp;</h4>                            </div>                            <div class="modal-body">                            </div>                        </div>                    </div>                </div>');return Y}function f(aa,ad){if(!aa||!ad){return aa}var ac=$(aa);var ab=ac.find(".page-header").detach();if(ab.length>0){var Z=ab.find(".header");if(Z.length>0){Z.find("#pageHeaderMenu").addClass("btn-sm");Z.find('.page-header-menu a:not([role="post-link"],[data-toggle="ajax"],[data-toggle="request-only"],[skip-modal][skip-modal!=""])').attr("data-toggle","modal");ad.find(".modal-header .modal-title").html(Z.html())}}ac.find("form:not([skip-modal])").attr("data-toggle","ajax-form");var Y=$("<div />").append(ac).html();return Y}function A(aa){if($.isEmptyObject(aa)){return}var ab=$(c);if(ab.length===0){return}var Y=ab.data("stack-modal-window-info");if(!$.isArray(Y)){Y=[]}var Z={url:"",title:"",size:"",method:""};aa=$.extend({},Z,aa);Y.push(aa);ab.data("stack-modal-window-info",Y)}function J(){var Z={};var aa=$(c);if(aa.length===0){return Z}var Y=aa.data("stack-modal-window-info");if(!$.isArray(Y)||(Y.length===0)){return Z}Z=Y.pop();aa.data("stack-modal-window-info",Y);return Z}function O(Z,af,ah,Y,aa){if(!Z){return}var ad=$(".main-app-scripts-modal");if(ad.length>0){ad.data("disable-use-stack",true);ad.modal("hide")}var ag=o();var ac=true;var ab=$("#"+ag);var ae="";if(!Z.match(/\.mod$/)){Z+=".mod"}if(!Y){Y="GET"}Y=Y.toUpperCase();if(af){ab.find(".modal-header h4").text(af)}if(ah){ah=ah.toLowerCase();switch(ah){case"sm":ae="modal-sm";break;case"lg":ae="modal-lg";break;default:ae="";break}if(ae){ab.find(".modal-dialog").addClass(ae)}}if(typeof aa==="undefined"){aa=false}if(!ab.data("disable-use-stack")){ab.data("disable-use-stack",aa)}U.loadIndicatorOn(ac);$.ajax({url:Z,method:Y,async:true,dataType:"html",success:function(al,am,ak){var ai={url:Z,title:af,size:ah,method:Y};A(ai);var aj=f(al,ab);ab.find(".modal-body").html(aj);U.update();U.loadIndicatorOff(ac);ab.modal("show");ab.off("shown.bs.modal").on("shown.bs.modal",function(){U.setInputFocus()});ab.off("hidden.bs.modal").on("hidden.bs.modal",function(ar){var ap=$(this);var au=$(c);var ao=ap.data("disable-use-stack");var an=au.data("update-page-after-close");var at=ap.data("update-modal-content");ap.remove();if(!ao){var aq=J();if(!at){aq=J()}if(!$.isEmptyObject(aq)){an=false;O(aq.url,aq.title,aq.size,aq.method,ao)}}else{an=false}if(an){au.data("update-page-after-close",false);U.updatePage()}})},error:function(ai,ak,aj){U.loadIndicatorOff(ac)}})}function u(ac){ac.preventDefault();var ab=$(this);var Z=$(ab).attr("href");var ad=ab.data("modal-title");var aa=ab.data("modal-size");var af=ab.data("modal-method");var Y=false;if((ab.attr("data-toggle")==="modal")||(ab.attr("data-toggle")==="modal-popover")){Y=ab.data("disable-use-stack")}else{var ae=ab.parents('[data-toggle="modal"]');if(ae.length>0){Y=ae.data("disable-use-stack")}}O(Z,ad,aa,af,Y);return false}function j(){var Z=$('a[role="post-link"][onclick]');var aa=Z.length;if(aa>0){var Y=null;Z.each(function(ab,ac){Y=$(ac);Y.attr("data-onclick",Y.attr("onclick")).removeAttr("onclick")})}}function S(){if(!$("html").hasClass("fontawesome-i2svg-active")){setTimeout(S,100);return}U.processUIReadyCounter("FontAwesome")}function g(Z){if(!Z||!$.isArray(Z)||(Z.length===0)){return}var Y={data:{tasks:Z,"delete":1}};$.ajax({async:true,url:s,data:Y,dataType:"json",global:false,method:"POST",success:Y})}U.initStorage=function(){if(typeof Storages==="undefined"){return false}Q=Storages.initNamespaceStorage("main_app_srt").sessionStorage;return true};U.configPjax=function(){if(!jQuery.fn.pjax||!jQuery.support.pjax){return false}var Z=true;var Y=false;$.pjax.defaults=$.extend({},$.pjax.defaults,L);$(document).off("pjax:success").on("pjax:success",function(){U.update()});$(document).off("pjax:popstate").on("pjax:popstate",function(){Y=true});$(document).off("pjax:start").on("pjax:start",function(){U.loadIndicatorOn(Z)});$(document).off("pjax:end").on("pjax:end",function(){if(Y){Y=false;U.update()}U.loadIndicatorOff(Z)});return true};U.updateTimeago=function(Y){if(typeof Y==="undefined"){Y=false}if(!jQuery.fn.timeago){if(Y){return 0}else{return false}}var aa=$('[data-toggle="timeago"]');var ab=aa.length;if(Y){return ab}if(ab===0){return true}var Z=null;aa.each(function(ac,ad){Z=$(ad);Z.timeago();U.processUIReadyCounter("Timeago")});y('[data-toggle="timeago"][title]');return true};U.updateRepeat=function(){var ab=window.location.href;var Y='[data-toggle="repeat"]';var ac=$(Y);var Z=ac.data("repeat-time");var aa=60;if(ac.length!==1){return false}if(Z){Z=parseInt(Z,10);if(!isNaN(Z)){aa=Z}}aa*=1000;clearTimeout(n);n=setTimeout(P,aa,ab,aa,Y);return true};U.disableTransition=function(){$.support.transition=false};U.updatePage=function(aa){if(!aa){aa=window.location.href}if(!jQuery.fn.pjax||!jQuery.support.pjax){window.location.href=aa;return true}var ab={url:aa,container:h};var Z=$.extend({},ab,L);$("[data-original-title]").tooltip("hide");var Y=$(".modal");if(Y.length>0){Y.data("disable-use-stack",true);Y.modal("hide")}$.pjax(Z);return true};U.updateF5key=function(){if(!jQuery.fn.pjax||!jQuery.support.pjax){return false}$(document).off("keydown.MainAppScripts").on("keydown.MainAppScripts",function(Y){if(Y.keyCode===116){Y.preventDefault();U.updatePage()}});return true};U.updateDisabledLinks=function(){$(".disabled a, a.disabled").off("click.MainAppScripts").on("click.MainAppScripts",function(Y){Y.stopPropagation();Y.preventDefault()})};U.updateNotUsedLinks=function(){$('a[role="button"]').off("click.MainAppScripts").on("click.MainAppScripts",function(Y){Y.preventDefault()})};U.updateLightboxLinks=function(){if(!jQuery.fn.ekkoLightbox){return false}$(document).off("click.MainAppScripts").on("click.MainAppScripts",'[data-toggle="lightbox"]',function(Z){Z.preventDefault();var Y=$(this);Y.ekkoLightbox()});return true};U.updateAjaxLinks=function(){$('a[data-toggle="ajax"], [data-toggle="ajax"] a').off("click.MainAppScripts").on("click.MainAppScripts",function(Z){Z.preventDefault();var aa=true;var Y=$(this).attr("href");if(!Y){return false}else{if(Y==="#"){return true}}U.loadIndicatorOn(aa);$(c).load(Y,function(ac,ad,ab){if(ad!=="success"){U.loadIndicatorOff(aa);return}U.update();U.loadIndicatorOff(aa)})})};U.updatePjaxLinks=function(){if(!jQuery.fn.pjax||!jQuery.support.pjax){return false}$('a[data-toggle="pjax"], [data-toggle="pjax"] a').off("click.MainAppScripts").on("click.MainAppScripts",function(Z){Z.preventDefault();var Y=$(this).attr("href");if(!Y){return false}else{if(Y==="#"){return true}}U.updatePage(Y);return false});return true};U.updatePrintLinks=function(){$('[data-toggle="print"]').off("click.MainAppScripts").on("click.MainAppScripts",function(Y){Y.preventDefault();window.print()})};U.updateProgressSSElinks=function(){$('a[data-toggle="progress-sse"], [data-toggle="progress-sse"] a').off("click.MainAppScripts").on("click.MainAppScripts",function(ab){ab.preventDefault();var Z=$(this).attr("href");var ac=true;var aa=$(this).data("task-type");var Y=$(this).data("task-use-progress");if(typeof Y==="undefined"){Y=true}if(!Z){return false}else{if(Z==="#"){return true}}U.loadIndicatorOn(ac);$(c).load(Z,function(ae,af,ad){if(af!=="success"){U.loadIndicatorOff(ac);return}U.update();U.loadIndicatorOff(ac);U.showProgressSSE(aa,Y)})})};U.updateProgressSSEtasks=function(){$.ajax({async:true,url:s,dataType:"json",global:false,method:"POST",success:function(aa){if(!aa.result||!aa.tasks){return}var Z=[];$.each(aa.tasks,function(ac,ab){U.showProgressSSE(ab,true);Z.push(ab)});if(Z.length>0){m();var Y=(x.config.delayDeleteTask*1000);setTimeout(g,Y,Z)}}})};U.updateMoveLinks=function(){$('a[data-toggle="move"]').off("click.MainAppScripts").on("click.MainAppScripts",function(aa){aa.preventDefault();var Z=$(this);var Y=Z.attr("href");if(!Y){return false}Y+=".json";$.ajax({async:true,url:Y,dataType:"json",method:"POST",context:Z,success:N})})};U.updateLoadMoreLinks=function(){$('a[data-toggle="load-more"]').off("click.MainAppScripts").on("click.MainAppScripts",function(aa){aa.preventDefault();var ab=true;var Z=$(this);var Y=Z.attr("href");if(!Y){return false}$.ajax({async:true,url:Y,dataType:"html",global:false,context:{target:Z,fadeBackground:ab},beforeSend:function(){U.loadIndicatorOn(ab)},success:e,error:function(){U.loadIndicatorOff(ab)}})})};U.updatePaginationLinks=function(){$("#numlinesbar").off("change.MainAppScripts").on("change.MainAppScripts",W);$(".btn-go-to-page").off("click.MainAppScripts").on("click.MainAppScripts",i);$("#gotopagebar").off("keyup.MainAppScripts").on("keyup.MainAppScripts",function(Y){if(Y.keyCode!==13){return}$(".btn-go-to-page").trigger("click.MainAppScripts")})};U.updateTooltips=function(){return y('[data-toggle="tooltip"], [data-toggle][title], [data-tooltip-text]')};U.updateCheckbox=function(af){if(typeof af==="undefined"){af=false}var ad=null;var ag=null;var ac=null;var Y=null;var ab=null;var ae=null;var Z=null;var aa=null;ad=$("label + .checkbox");ag=$("label [type=checkbox], label [type=radio]");ac=ad.length;Y=ag.length;if(af){return ac+Y}if(ac>0){ad.each(function(ah,ai){ab=$(ai);Z=ab.prev();aa=Z.detach();aa.appendTo(ab);U.processUIReadyCounter("Checkbox")})}if(Y>0){ag.each(function(ah,ai){ab=$(ai);ae=ab.parent();aa=ab.detach();aa.insertBefore(ae);U.processUIReadyCounter("Checkbox")})}return true};U.updateTreeview=function(af){if(typeof af==="undefined"){af=false}if(!jQuery.fn.treeview){if(af){return 0}else{return false}}var aj=$('[data-toggle="treeview"]');var ag=aj.length;if(af){return ag}if(aj.length===0){return true}var Y=null;var ae=null;var ac=null;var aa=null;var ab=null;var ai=null;var Z=false;var ad=false;var ah=1;aj.each(function(ak,al){Y=$(al);Z=false;ad=false;ah=1;ai=$(Y).data("treeview-data");if(!ai){ae=$(Y).data("treeview-url");if(ae){ai=G(ae)}}if(!ai||(typeof ai!=="object")||(ai.length===0)){return true}ac=$(Y).data("treeview-enablelinks");if(ac){Z=true}aa=$(Y).data("treeview-showtags");if(aa){ad=true}ab=$(Y).data("treeview-levels");if(ab){ah=parseInt(ab,10);if(isNaN(ah)){ah=1}}Y.treeview({data:ai,enableLinks:Z,showBorder:false,showTags:ad,levels:ah,selectable:true,highlightSelected:false});U.processUIReadyCounter("Treeview")});return true};U.updateBonsaiTreeview=function(Z){if(typeof Z==="undefined"){Z=false}if(!jQuery.fn.bonsai){if(Z){return 0}else{return false}}var ac=$('.bonsai-treeview, [data-toggle="bonsai-treeview"] > ul, [data-toggle="bonsai-treeview"] > ol');var ad=ac.length;if(Z){return ad}if(ac.length===0){return true}var ab=null;var Y=null;var aa=true;ac.each(function(ae,af){ab=$(af);aa=false;if((ab.parent('[data-toggle="bonsai-treeview"][data-bonsai-expand-all]').length>0)||(ab.hasClass("bonsai-expand-all"))){aa=true}Y=ab.bonsai({idAttribute:"data-id",expandAll:aa}).data("init",true).data("bonsai");U.processUIReadyCounter("BonsaiTreeview")});return true};U.updateSortable=function(){if(!jQuery.fn.sortable){return false}var am=$('[data-toggle="draggable"] > ul, [data-toggle="draggable"] > ol, [data-toggle="draggable"] > table');if(am.length===0){return true}var ae="";var al="";var aa="";var ah="";var ak=true;var ag=true;var aj=true;var ad=true;var af="";var Z={handle:'[data-toggle="drag"]',delay:500,tolerance:0,distance:0,onDrop:q,onDragStart:w};var ac={};var Y={};var ai=false;var ab=null;am.each(function(ao,ap){ab=$(ap);af=v("main-app-scripts-draggable");var an=ab.parent().data("vertical");if(typeof(an)==="undefined"){an=ak}var at=ab.parent().data("nested");if(typeof(at)==="undefined"){at=ag}var ar=ab.parent().data("pull-placeholder");if(typeof(ar)==="undefined"){ar=aj}var aq=ab.parent().data("change-parent");if(typeof(aq)==="undefined"){aq=ad}ai=false;if(ab.prop("tagName").toLowerCase()==="table"){ai=true}if(ai){ae="table";al="> tbody";aa="tr";ah='<tr class="placeholder"/>';at=false}else{ae="ol, ul";al="";aa="li";ah='<li class="placeholder"></li>'}Y={vertical:an,nested:at,group:af,pullPlaceholder:ar,containerSelector:ae,itemPath:al,itemSelector:aa,placeholder:ah,isValidTarget:function(av,au){if(aq){return true}var aw=av.parent().get(0);var ax=au.el.get(0);if(aw===ax){return true}return false}};ac=$.extend({},Z,Y);ab.attr("class",ab.attr("class").replace(/\bdraggable_\d+\b/g,""));ab.addClass("draggable");ab.addClass(af);ab.sortable("destroy").sortable(ac)});return true};U.updateDropdowns=function(){if(typeof $().dropdown!=="function"){return false}$(".dropdown-toggle").dropdown();return true};U.updateTabs=function(){if(typeof $().tab!=="function"){return false}var Z=$('[data-toggle="tab"]');if(Z.length===0){return true}Z.tab();Z.off("show.bs.tab").on("show.bs.tab",function(ab){var aa=$(ab.target).attr("href");if(aa){$("html").data("active-tab",aa)}});Z.off("shown.bs.tab").on("shown.bs.tab",function(aa){U.setInputFocus()});var Y=$("html").data("active-tab");if(Y){$('a[data-toggle="tab"][href="'+Y+'"]').tab("show")}return true};U.updateSelect=function(af){if(typeof af==="undefined"){af=false}if(!jQuery.fn.selectpicker){if(af){return 0}else{return false}}var aq=$('[data-toggle="select"]');var Y=aq.length;if(af){return Y}if(Y===0){return true}var ac=null;var ah=null;var ae=null;var ar=null;var am=null;var ai=null;var ad=null;var ab=null;var ag=null;var aa=null;var ak=8;var an=false;var ap="auto";var Z=null;var ao=null;var aj=0;var al=true;if(!jQuery.fn.ajaxSelectPicker){al=false}aq.each(function(at,au){ac=$(au);if(ac.data("selectpicker")){U.processUIReadyCounter("Select");return true}ah=ac.closest("div.bootstrap-select");if(ah.length===1){ae=ac.detach();ae.insertAfter(ah);ah.remove()}am=ac.data("style");ai=ac.data("size");ad=ac.data("live-search");ab=ac.data("show-tick");ag=ac.data("selected-text-format");Z=ac.data("abs-ajax-url");ao=ac.data("abs-min-length");an=false;if(ac.attr("multiple")==="multiple"){an=true}if(typeof ad==="undefined"){ad=false;if(ac.find("option").length>ak){ad=true}}if(Z&&al){ad=true}if(typeof ab==="undefined"){ab=true}if(!ag){if(an){ag="count > 10"}else{ag="value"}}if(!ai){ai=ak}if(!am){am="btn-default"}if(an){am+=" multiple-value-select"}ar=ac.attr("title");if(ar){ac.removeAttr("title")}if(ao){ac.removeAttr("data-abs-min-length")}else{ao=aj}aa=ac.data("placeholder");ac.selectpicker("destroy").selectpicker({title:aa,style:am,size:ai,liveSearch:ad,showTick:ab,selectedTextFormat:ag,dropdownAlignRight:ap}).off("loaded.bs.select").on("loaded.bs.select",function(av){U.processUIReadyCounter("Select")}).off("changed.bs.select").on("changed.bs.select",function(aw){var av=$(aw.target).siblings("button");if(av.length!==1){return}var ax=av.attr("title");if(!ax){return}av.attr("data-original-title",ax);av.tooltip("fixTitle")});if(ar){ac.siblings('button[data-toggle="dropdown"]').attr("title",ar)}if(Z&&al){ac.ajaxSelectPicker({minLength:ao})}});return true};U.updateInputsFilledProgressBar=function(ac){if(typeof ac==="undefined"){ac=false}var Y='<div class="progress">                    <div class="progress-bar inputs-filled-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>                </div>';var af=$('form[progressfill!=""][progressfill]');var ad=af.length;if(ac){return ad}var Z=null;var aa=null;var ag=0;var ae=0;var ab=null;af.each(function(ah,ai){Z=$(ai);if(Z.data("inputsFilledProgress")){U.processUIReadyCounter("InputsFilledProgressBar");return true}aa=Z.find(":input:not(:button,[type=hidden],[type=checkbox],[type=radio],[readonly])").filter('[name^="data["]');ag=aa.length;ae=aa.filter("[required]").length;ab=Z.find('[role="progressbar"].inputs-filled-progress');if(ab.length===0){ab=Z.prepend(Y).find('[role="progressbar"].inputs-filled-progress')}ab.data("total-inputs",ag);ab.data("total-required-inputs",ae);aa.off("change.MainAppScripts.FillProgr").on("change.MainAppScripts.FillProgr",M);aa.trigger("change.MainAppScripts.FillProgr");Z.data("inputsFilledProgress",true);U.processUIReadyCounter("InputsFilledProgressBar")});return true};U.updateRequiredInputsForm=function(){var aa=$('form[requiredcheck!=""][requiredcheck]');if(aa.length===0){return false}var Z=null;var Y=null;aa.each(function(ab,ac){Z=$(ac);Y=Z.find(':input[name^="data["][required]');Y.off("change.MainAppScripts.RequirInput").on("change.MainAppScripts.RequirInput",H);Z.find(":submit").off("click.MainAppScripts.RequirInput").on("click.MainAppScripts.RequirInput",E)});return true};U.updatePopover=function(){if(typeof $().popover!=="function"){return false}$('[data-toggle="popover"],[data-toggle="modal-popover"]').popover({content:p,delay:{show:1000,hide:100},html:true,placement:$(this).data("popover-placement"),container:c,title:$(this).data("popover-title"),trigger:"hover"}).off("inserted.bs.popover").on("inserted.bs.popover",function(Y){z(Y);U.update()});return true};U.updateModalLinks=function(){if(typeof $().modal!=="function"){return false}$('a[data-toggle="modal"], a[data-toggle="modal-popover"], [data-toggle="modal"] a').off("click.MainAppScripts.modal").on("click.MainAppScripts.modal",u);return true};U.updatePassField=function(){if(!jQuery.fn.CapsLockAlert){return false}$(":password").CapsLockAlert();return true};U.updateButtons=function(){$(".btn").off("mouseup.MainAppScripts").on("mouseup.MainAppScripts",function(){$(this).blur()})};U.updateSpin=function(aa){if(typeof aa==="undefined"){aa=false}if(!jQuery.fn.TouchSpin){if(aa){return 0}else{return false}}var ad=$('[data-toggle="spin"]');var ae=ad.length;if(aa){return ae}if(ae===0){return true}var Z=true;var ac=null;var Y=null;var ab=null;ad.each(function(an,af){ac=$(af);if(ac.data("spinnerid")){U.processUIReadyCounter("Spin");return true}Y=ac.closest("div.bootstrap-touchspin");if(Y.length===1){ab=ac.detach();ab.insertAfter(Y);Y.remove()}var am=ac.data("spin-initval");if(typeof am==="undefined"){am=""}var ak=ac.data("spin-min");if(!ak){ak=0}var aq=ac.data("spin-max");if(!aq){aq=100}var ag=ac.data("spin-step");if(!ag){ag=1}var ah=ac.data("spin-decimals");if(!ah){ah=0}var ap=ac.data("spin-maxboostedstep");if(!ap){ap=10}var al=ac.data("spin-verticalbuttons");if(typeof al==="undefined"){al=Z}var ao=ac.data("spin-prefix");if(typeof ao==="undefined"){ao=""}var aj=ac.data("spin-prefix_extraclass");if(typeof aj==="undefined"){aj=""}var ar=ac.data("spin-postfix");if(typeof ar==="undefined"){ar=""}var ai=ac.data("spin-postfix_extraclass");if(typeof ai==="undefined"){ai=""}ac.TouchSpin("destroy");ac.TouchSpin({initval:am,min:ak,max:aq,step:ag,decimals:ah,maxboostedstep:ap,verticalbuttons:al,prefix:ao,prefix_extraclass:aj,postfix:ar,postfix_extraclass:ai});U.processUIReadyCounter("Spin")});return true};U.updateAjaxForm=function(){if(!jQuery.fn.ajaxSubmit){return false}$('[data-toggle="ajax-form"]').off("submit.MainAppScripts").on("submit.MainAppScripts",function(Y){Y.preventDefault();$(this).ajaxSubmit({beforeSubmit:function(Z,aa,ab){var ad=true;var ac=false;if(aa.attr("fade-page")){ac=true}aa.data("fade-background",ad);U.loadIndicatorOn(ad,ac)},success:I,error:a})});return true};U.updatePjaxForm=function(){if(!jQuery.fn.pjax||!jQuery.support.pjax){return false}$(document).off("submit.MainAppScripts").on("submit.MainAppScripts",'[data-toggle="pjax-form"]',function(ab){var ad=true;var ac=false;var Z=$(this);var Y={};if(Z.attr("fade-page")){ac=true}if(this.method.toUpperCase()==="GET"){var aa=Z.attr("action");if(aa){Z.attr("action",aa.replace(/\?.*/,""))}Y.data=Z.find(":input").filter(function(){return $(this).val()!==""}).serializeArray()}U.loadIndicatorOn(ad,ac);$.pjax.submit(ab,h,Y)});return true};U.updateInputMask=function(){if(!jQuery.fn.inputmask){return false}var Y={integer:{rightAlign:false}};Inputmask.extendDefaults({clearIncomplete:true});Inputmask.extendAliases(Y);$('[data-toggle="input-mask-mask"],[data-inputmask-mask],[data-inputmask-alias]').inputmask();$('[data-toggle="input-mask-regex"],[data-inputmask-regex]').inputmask("Regex");return true};U.updateCloneDOMelements=function(){if(!jQuery.fn.cloneya){return false}var ac=$('[data-toggle="clone-target"], .clone-wrapper');if(ac.length===0){return true}var ab=null;var Z=false;var Y=1;var aa="";var ad=true;ac.each(function(ae,af){ab=$(af);aa="after";Z=ab.data("one-clone-button");if(Z){ab.find('[data-toggle="btn-action-clone"]:first').removeClass("hidden");ab.find('[data-toggle="btn-action-clone"]:not(:first)').addClass("hidden");ab.find('[data-toggle="btn-action-delete"]:first').addClass("hidden");ab.find('[data-toggle="btn-action-delete"]:not(:first)').removeClass("hidden");aa="before"}Y=parseInt(ab.data("max-clone"),10);if(isNaN(Y)){Y=8}ab.cloneya({minimum:1,maximum:Y,cloneThis:'[data-toggle="clone-source"]',valueClone:false,dataClone:false,deepClone:false,cloneButton:'[data-toggle="btn-action-clone"]',deleteButton:'[data-toggle="btn-action-delete"]',clonePosition:aa,serializeID:true,serializeIndex:true,ignore:".exclude-clone",preserveChildCount:false}).off("before_append.cloneya.MainAppScripts").on("before_append.cloneya.MainAppScripts",function(ah,ai,ag){$(ag).find('[data-toggle="btn-action-delete"]').removeClass("hidden")}).off("after_append.cloneya.MainAppScripts").on("after_append.cloneya.MainAppScripts",function(ah,ai,ag){U.update()}).off("before_delete.cloneya.MainAppScripts").on("before_delete.cloneya.MainAppScripts",function(ai,ah,ag){if(typeof $().tooltip!=="function"){return}$(ah).find('[data-toggle="btn-action-delete"]').tooltip("destroy")}).off("after_delete.cloneya.MainAppScripts").on("after_delete.cloneya.MainAppScripts",function(ai,ah,ag){U.update()})});return true};U.updateExpandTruncatedText=function(){var aa=$('[data-toggle="collapse-text-expand"], [data-toggle="collapse-text-roll-up"]');if(aa.length===0){return true}var Y=$('.collapse-text-expanded:has([data-toggle="collapse-text-expand"], [data-toggle="collapse-text-roll-up"])');if(Y.length>0){var Z=0;Y.each(function(ab,ac){Z=$(ac).outerWidth();$(ac).css({"max-width":Z})})}aa.off("click.MainAppScripts").on("click.MainAppScripts",function(ag){ag.stopPropagation();ag.preventDefault();var af=$(ag.currentTarget);var ac=af.parents(".collapse-text-expanded");if(ac.length===0){return false}var ab=af.attr("data-toggle");var ae="";var ad="";switch(ab){case"collapse-text-expand":ae=".collapse-text-truncated";ad=".collapse-text-original";break;case"collapse-text-roll-up":ae=".collapse-text-original";ad=".collapse-text-truncated";break;default:return false}ac.children(ad).show();ac.children(ae).hide();return false});return true};U.openModalWindow=function(Z,ab,aa,ac,Y){if(typeof $().modal!=="function"){return false}O(Z,ab,aa,ac,Y);return true};U.loadIndicatorOn=function(Z,Y){if(typeof Z==="undefined"){Z=false}if(typeof Y==="undefined"){Y=false}if(typeof NProgress==="undefined"){if($("div.mainappscripts-ds-loading").length>0){return}$("body").append('<div class="mainappscripts-ds-loading"></div>')}else{if(NProgress.status===null){NProgress.configure({trickle:true,showSpinner:false,minimum:0.01});NProgress.start();NProgress.inc()}}if(Z){k(Y)}};U.loadIndicatorOff=function(Y){if(typeof Y==="undefined"){Y=false}if(typeof NProgress==="undefined"){$("div.mainappscripts-ds-loading").detach()}else{if(NProgress.status!==null){NProgress.done()}}if(Y){V()}};U.ajaxIndicator=function(Y){if(typeof Y==="undefined"){Y=false}$(document).ajaxStart(function(){U.loadIndicatorOn(Y)});$(document).ajaxStop(function(){U.loadIndicatorOff(Y)})};U.updateConfirmActionLinks=function(){j();$('a[data-confirm-msg!=""][data-confirm-msg]').off("click.MainAppScripts").on("click.MainAppScripts",function(Y){Y.preventDefault();U.confirmAction(this);return true})};U.updatePostLinks=function(){j();$('a[role="post-link"]:not([data-confirm-msg])').off("click.MainAppScripts").on("click.MainAppScripts",function(Y){Y.preventDefault();l(this);return false})};U.updateRequestOnlyLinks=function(){$('a[data-toggle="request-only"]').off("click.MainAppScripts").on("click.MainAppScripts",function(aa){aa.preventDefault();var Z=$(this);var Y=Z.attr("href");var ac="GET";var ab=true;if(!Y){return false}if(Z.data("use-post-request")){ac="POST"}$.ajax({async:true,url:Y,method:ac,global:false,beforeSend:function(){U.loadIndicatorOn(ab)},success:function(){U.update()},complete:function(){U.loadIndicatorOff(ab)}})})};U.confirmAction=function(ac,ad){var ae=$(ac).data("confirm-msg");var af=$(ac).data("confirm-btn-ok");var ab=$(ac).data("confirm-btn-cancel");if(!ae){ae="Are you sure?"}var aa=$("html").attr("lang");if(!aa){aa="en"}var Z=function(ag){if(!ag){return false}if(ad&&$.isFunction(ad)){return ad(ac)}if(!l(ac)&&$(ac).attr("href")){var ah=$(ac).attr("href");if(ah==="#"){return false}$(c).load(ah,function(aj,ak,ai){if(ak==="success"){U.update()}});return false}return false};if(typeof Noty!=="undefined"){var Y=new Noty({text:ae,closeWith:["button"],force:true,modal:true,layout:"center",theme:"bootstrap-v3",type:"alert",buttons:[Noty.button(af,"btn btn-success",function(){Y.close();Z(true)},{id:"buttonOk","data-status":"ok"}),Noty.button(ab,"btn btn-danger",function(){Y.close()},{id:"buttonCancel","data-status":"cancel"})],callbacks:{onShow:function(){$("div.noty_buttons #buttonCancel",$(this.barDom)).focus()},onTemplate:function(){$("div.noty_buttons",$(this.barDom)).addClass("text-center").css("border-top","1px solid #e7e7e7");$("div.noty_buttons button",$(this.barDom)).css("margin","0 2px")}}}).show()}else{if(typeof bootbox!=="undefined"){bootbox.setLocale(aa);bootbox.confirm({size:"small",message:ae,buttons:{cancel:{label:ab,className:"btn-danger",callback:function(){}},confirm:{label:af,className:"btn-success",callback:function(){}}},callback:Z})}else{if(confirm(ae)){Z(true)}}}};U.processUIReadyCounter=function(aa){var Y=$("body").data("ui-ready-controls");if(!Y){Y={Default:1}}if(!aa){aa="Default"}if(!Y.hasOwnProperty(aa)){return}if(Y[aa]===0){return}Y[aa]--;var Z=0;var ab=0;$.each(Y,function(ad,ac){Z++;if(ac===0){ab++}});if((Z===0)||(Z===ab)){V(true);if(typeof NProgress==="undefined"){return}NProgress.done();setTimeout(function(){NProgress.remove()},500)}else{if(typeof NProgress!=="undefined"){NProgress.set(ab/Z)}}};U.setUIReadyCounter=function(){var Y={Default:1};var Z=["BodyClass","Timeago","Checkbox","Treeview","BonsaiTreeview","Select","InputsFilledProgressBar","DatePicker","FlagSelect","Spin","FileUpload","FontAwesome"];$.each(Z,function(aa,ab){Y[ab]=window.MainAppScripts["update"+ab](true)});$("body").data("ui-ready-controls",Y);if((typeof NProgress!=="undefined")&&(NProgress.status===null)){NProgress.configure({trickle:false,showSpinner:false,minimum:0.01});NProgress.start()}return true};U.setInputFocus=function(){$("input[autofocus]:visible:enabled:first").focus()};U.clearInputBtn=function(){var aa=$("input:text.clear-btn");if(aa.length===0){return}var Z=null;var Y=null;aa.each(function(ab,ac){Z=$(ac);if(Z.siblings(".mainappscripts-btn-input-clear").length===0){$('<span class="mainappscripts-btn-input-clear"><span class="fas fa-times"></span></span>').insertAfter(Z)}Y=Z.siblings(".mainappscripts-btn-input-clear");if(Y.length===0){return true}Z.keyup(function(){$(this).siblings(".mainappscripts-btn-input-clear").toggle(Boolean($(this).val()))});Y.toggle(Boolean(Z.val()));Y.off("click.MainAppScripts").on("click.MainAppScripts",function(){var ad=$(this).siblings(":text");if(ad.length===0){return false}if(jQuery.fn.typeahead){ad.typeahead("val","")}else{ad.val("")}ad.last().focus();$(this).hide();return false})})};U.setTextareaLinesLimit=function(){$("textarea").keydown(function(aa){var Z=$(this).data("lines-limit");if(!Z){return true}var Y=$(this).val().split("\n").length;if(aa.keyCode===13&&Y>=Z){return false}return true})};U.updateDatePicker=function(ai){if(typeof ai==="undefined"){ai=false}if(!jQuery.fn.datetimepicker){if(ai){return 0}else{return false}}var ap=$('[data-toggle="datetimepicker"]');var aa=ap.length;if(ai){return aa}if(aa===0){return true}var ae=null;var af="date";var ak=null;var ab=null;var ah=null;var ao=null;var ad=null;var an=null;var am=null;var ag=null;var ac=null;var al=["auto","left","right"];var Z=["auto","top","bottom"];var Y=null;var aj=null;ap.each(function(aq,ar){ae=$(ar);if(ae.data("DateTimePicker")){U.processUIReadyCounter("DatePicker");return true}ao=ae;an=ae.data("date-format");if(!an){an="YYYY-MM-DD"}am=ae.data("date-locale");if(!am){am="en"}ag=ae.data("icon-type");if(typeof ag==="undefined"){ag=af}ac={horizontal:"auto",vertical:"auto"};Y=ae.data("widget-position-horizontal");aj=ae.data("widget-position-vertical");if(Y){Y=Y.toLowerCase();if($.inArray(Y,al)!==-1){ac.horizontal=Y}}if(aj){aj=aj.toLowerCase();if($.inArray(aj,Z)!==-1){ac.vertical=aj}}if(ag){ag=ag.toLowerCase();switch(ag){case"time":ad="fa-clock";break;case"date":default:ad="fa-calendar-alt";break}ak=ae.parents(".input-group");if(ak.length===0){ae.wrap('<div class="input-group date"></div>')}else{ak.addClass("date")}ab=ae.siblings(".input-group-addon.datepickerbutton");if(ab.length===0){ab=$('<span class="input-group-addon datepickerbutton"></span>');ab.append('<span class="far '+ad+'"></span>')}else{if(ab.children("."+ad+"[data-fa-i2svg],span."+ad).length===0){ab.append('<span class="far '+ad+'"></span>')}}ab.insertAfter(ae);ao=ae.parents(".date")}ah=ao.datetimepicker({format:an,locale:am,showTodayButton:true,showClear:true,showClose:true,widgetPositioning:ac});ah.off("dp.show").on("dp.show",function(at){if(typeof $().tooltip!=="function"){return}$(at.target).children('[data-toggle="datetimepicker"]').tooltip("hide")});U.processUIReadyCounter("DatePicker")});return true};U.updateFlagSelect=function(ab){if(typeof ab==="undefined"){ab=false}if(!jQuery.fn.flagStrap){if(ab){return 0}else{return false}}var ad=$('[data-toggle="flag-select"]');var ae=ad.length;if(ab){return ae}if(ae===0){return true}var Z=null;var af=null;var aa={placeholder:false};var Y={};var ac=null;ad.each(function(ag,ah){ac=$(ah);if(ac.data("flagStrap")){U.processUIReadyCounter("FlagSelect");return true}af=ac.attr("id");Z=ac.data("country-url");if(Z){aa.countries=B(Z,af)}ac.empty();ac.flagStrap(aa);U.processUIReadyCounter("FlagSelect")});return true};U.processSSE=function(ac,Z,Y){if(!ac||!Y){return false}if(!jQuery.SSE){return false}var ab=D+"/"+ac+".sse";if(x.obj[ac]){return true}m();x.obj[ac]=$.SSE(ab,{options:{forceAjax:false},events:{progressBar:Y},onEnd:function(ad){x.obj[ac]=null},onError:function(ad){x.obj[ac]=null},onMessage:function(ad){}});x.retries[ac]=x.config.retries;var aa=x.config.text+"...";x.noty[ac]=d(aa);x.progress[ac]=Z;x.obj[ac].start();if(typeof NProgress!=="undefined"){NProgress.configure({trickle:false,showSpinner:false,minimum:0.01})}return true};U.showProgressSSE=function(Z,Y){U.processSSE(Z,Y,X)};U.updateAutocomplete=function(){if(!jQuery.fn.typeahead){return false}var aj=$('[data-toggle="autocomplete"]');var ai=aj.length;if(ai===0){return true}var ad=null;var ab=null;var ac=null;var ag=null;var ae=null;var Z=null;var aa=null;var ah=null;var Y=null;var af=null;aj.each(function(ak,al){ad=$(al);if(ad.data("ttTypeahead")){return true}ab=ad.closest("span.twitter-typeahead");if(ab.length===1){ac=ab.find(".tt-input").removeClass("tt-input").detach();ad=ac.insertAfter(ab);ab.remove()}ag=ad.data("autocomplete-type");ae=ad.data("autocomplete-plugin");Z=ad.data("autocomplete-url");ah=ad.data("autocomplete-local");aa=parseInt(ad.data("autocomplete-min-length"),10);if(!Z&&!ah){return true}if(isNaN(aa)){aa=2}af={datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10};if(ah){af.local=ah}else{af.remote={url:Z,rateLimitBy:"debounce",rateLimitWait:750,prepare:function(ao,an){var am=$('[data-toggle="autocomplete"]:focus').data("autocomplete-type");an.method="POST";an.data={query:ao,type:am,plugin:ae};return an}}}Y=new Bloodhound(af);ad.typeahead({minLength:aa,highlight:true,hint:true},{name:"autocomplete-data",source:Y})});return true};U.updateFileUpload=function(ah){if(typeof ah==="undefined"){ah=false}if(!jQuery.fn.fileupload){if(ah){return 0}else{return false}}var ak=$('[data-toggle="fileupload"]');var ai=ak.length;if(ah){return ai}if(ai===0){return true}var ae=null;var ad=null;var am=null;var al=null;var aa=null;var ag=null;var Y=null;var ab=null;var Z=null;var ac=null;var aj=null;var af=true;ak.each(function(an,ao){ae=$(ao);if(ae.data("blueimpFileupload")){U.processUIReadyCounter("FileUpload");return true}ad=ae.closest("span.btn");if(ad.length===1){ad.siblings(".files").empty();ad.siblings(".progress").children(".progress-bar").css("width",0)}am=ae.data("fileupload-url");if(!am){U.processUIReadyCounter("FileUpload");return true}al=ae.data("fileupload-acceptfiletypes");if(al){al=new RegExp(al,"i")}aa=ae.data("fileupload-btntext-upload");if(!aa){aa="Upload"}ag=ae.data("fileupload-btntext-abort");if(!ag){ag="Abort"}Y=ae.data("fileupload-msgtext-processing");if(!Y){Y="Processing..."}ab=ae.data("fileupload-msgtext-error");if(!ab){ab="File upload failed."}Z=null;if(!$.support.fileInput){Z="disabled"}ac=parseInt(ae.data("fileupload-maxfilesize"),10);if(isNaN(ac)){ac=null}aj=$("<button/>").addClass("btn btn-primary").prop("disabled",true).text(Y).on("click.MainAppScripts",function(){var aq=$(this),ap=aq.data();aq.off("click.MainAppScripts").text(ag).on("click.MainAppScripts",function(){aq.remove();ap.abort()});ap.submit().always(function(){aq.remove()});return false});ae.fileupload({url:am,dataType:"json",acceptFileTypes:al,maxFileSize:ac,autoUpload:false,previewMaxWidth:100,previewMaxHeight:100,previewCrop:true}).on("fileuploadsubmit",function(aq,ap){U.loadIndicatorOn(af)}).on("fileuploadadd",function(at,ar){var ap=$(at.target).data("files-id");if(ap){ar.context=$("#"+ap).html("<div/>")}else{ar.context=$("div.files:eq(0)").html("<div/>")}var aq=null;$.each(ar.files,function(au,av){aq=$("<p/>").append($("<span/>").text(av.name));if(!au){aq.append("<br>").append(aj.clone(true).data(ar))}aq.appendTo(ar.context)})}).on("fileuploadprocessalways",function(au,at){var ap=at.index,aq=at.files[ap],ar=$(at.context.children()[ap]);if(aq.preview){ar.prepend("<br>").prepend(aq.preview)}if(aq.error){ar.append("<br>").append($('<span class="text-danger"/>').text(aq.error))}if(ap+1===at.files.length){at.context.find("button").text(aa).prop("disabled",!!at.files.error)}}).on("fileuploadprogressall",function(ar,aq){var ap=parseInt((aq.loaded/aq.total*100),10);if(isNaN(ap)){ap=0}var at=$(ar.target).data("progress-id");if(at){$("#"+at+" .progress-bar").css("width",ap+"%")}}).on("fileuploaddone",function(at,ar){var ap=true;$.each(ar.result.files,function(av,aw){if(aw.error){ap=false}if(aw.url){var ax=$("<a>").attr("target","_blank").prop("href",aw.url);$(ar.context.children()[av]).wrap(ax)}else{if(aw.error){var au=$('<span class="text-danger"/>').text(aw.error);$(ar.context.children()[av]).append("<br>").append(au)}}});if(ap){var aq=ae.data("fileupload-redirecturl");if(!aq){aq=window.location.href}U.updatePage(aq)}U.loadIndicatorOff(af)}).on("fileuploadfail",function(aq,ap){$.each(ap.files,function(at){var ar=$('<span class="text-danger"/>').text(ab);$(ap.context.children()[at]).append("<br>").append(ar)});U.loadIndicatorOff(af)}).prop("disabled",!$.support.fileInput).parent().addClass(Z);U.processUIReadyCounter("FileUpload")});return true};U.updateFontAwesome=function(Y){if(typeof Y==="undefined"){Y=false}if(typeof FontAwesome==="undefined"){if(Y){return 0}else{return false}}if(Y){return 1}S();return true};U.updateToggleIcons=function(){$('[data-toggle-icons!=""][data-toggle-icons]').off("click.MainAppScripts").on("click.MainAppScripts",function(aa){var Z=$(aa.target);var Y=Z.data("toggle-icons").split(",");if(Y.length!==2){return true}Z.find("[data-fa-i2svg]").toggleClass(Y[0]).toggleClass(Y[1]);return true})};U.updateBodyClass=function(aa){if(typeof aa==="undefined"){aa=false}var Z=$("body");if(Z.length===0){if(aa){return 0}else{return false}}if(aa){return 1}var Y="";var ab=$("#header");if(ab.length===0){return true}if(ab.find('[role="navigation"]').length===1){Y="use-navbar-only";if(ab.find(".breadcrumb").length===1){Y="use-navbar-breadcrumb"}}else{if(ab.find(".breadcrumb").length===1){Y="use-breadcrumb-only"}}if(Y){Z.addClass(Y)}U.processUIReadyCounter("BodyClass");return true};U.scrollUpBtn=function(){if(!jQuery.fn.scrollUp){return false}$.scrollUp({animation:"fade",scrollImg:true});return true};U.update=function(){$(document).trigger("MainAppScripts:update")};return U});$(function(){MainAppScripts.initStorage()});