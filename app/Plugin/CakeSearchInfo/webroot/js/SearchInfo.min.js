(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b()}else{a.SearchInfo=b()}}})(this,function(){var a={};a.updateAutocomplete=function(){if(!jQuery.fn.typeahead){return false}$('.search-form [data-toggle="autocomplete-search"]:not(.tt-hint,.tt-input)').each(function(d){var c=$(this).data("autocomplete-url");var b=$(this).data("autocomplete-min-length");if(!c){return}if(!b){b=2}var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:c,rateLimitBy:"debounce",rateLimitWait:750,prepare:function(g,f){var h=$("#SearchTarget").val();f.type="POST";f.data={query:g,target:h};return f}}});$(this).typeahead("destroy").typeahead({minLength:Number(b),highlight:true,hint:true},{name:"autocomplete-search-data",source:e});$(this).off("typeahead:select.SearchInfo").on("typeahead:select.SearchInfo",function(g,f){$(g.target.form).trigger("submit")})});return true};a.updateSearchForm=function(){a.updateAutocomplete();return true};return a});$(function(){$(document).off("MainAppScripts:update.SearchInfo").on("MainAppScripts:update.SearchInfo",function(){SearchInfo.updateSearchForm()})});